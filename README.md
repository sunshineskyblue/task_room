# Life in Pocket
物件の貸し借りサービス(airbnb等)を模倣し、現状に見られる課題の解決を目指したサービスです。</br>
airbnbをはじめ、現状の宿泊サイトには、必ずと言って良いほどレビュー機能が存在していますが、</br>
現状のレビューには、以下の問題点があると感じておりました。</br>

- 価格がサービスの品質や満足度を決定する因子の一つでありながらも、</br>
全ての物件が星の数という同じ物差しで比較されてしまう。</br>
- コメント機能はあるが、その他にも感情に訴える強い思い、感動を表現することができない。</br>
つまり、星の数という制約がある。</br>

このアプリケーションでは、それぞれの解決策として、</br>
以下２つのアプローチでよりユーザーに寄り添ったレビュー機能を目指しました。</br>

- 物件の宿泊価格に応じて、価格帯ごとの平均スコアが表示される</br>
 =>  平均との比較が可能となることで、ユーザー意識が星の数という絶対値から平均からの乖離へと向かい、</br>
     <span>　</span>価格帯ごとに相対的な視点を持つことができる</br>
- 年に一回しか送ることできない、いいね機能（アプリケーション内での命名は、Bestスポット）</br>
 =>  年に一回という重みをつけ、かつユーザー側に評価の意図を理解してもらうことで、</br>
     <span>　</span>Bestスポットが付いている物件は、星５を超える何かを秘めていることが視覚的に訴えられる</br>

Life in Pocketは、宿泊サイトとしての基本機能も備えており、</br>
一つのアカウントでホストとして物件の貸し出し、ゲストとして宿泊予約が可能です。</br>
ゲストログイン機能を備えているため、どなたでもこのサービスをご利用頂けます。</br>

# サイトイメージ
<div>
<img width="600" alt="スクリーンショット 2022-12-27 12 48 53" src="https://user-images.githubusercontent.com/109893844/209608172-4cdbc591-11dd-48c6-8141-ae9ad6760e52.png">

<img width="259" alt="screen shot" src="https://user-images.githubusercontent.com/109893844/209503347-ef2c5034-3ec5-47bb-b652-9a91e8010861.png">
</div>

# URL
https://sunshineskyblue-20221225230053.herokuapp.com/

# 使用技術
- Ruby  3.0.4
- Ruby on Rails  6.1.7
- JQuery
- Bootstrap
- Storage
  - S3
- DB
  - Sqlite3（local)
  - MySQL（production）
- circleci
- RSpec
- Rubocop Airbnb
- Heroku

# 機能一覧
- ログイン機能（devise）
- 検索機能（ransack)
- 予約機能
- お知らせ機能
- レビュー機能（raty）
- 画像機能（Active Storage）
- ページネーション機能（kaminari）

# テスト
- Rspec
  - リクエストテスト（request）
  - 単体テスト（model）
  - システムテスト（system）

# インフラ構築
- Githubへのpush時に、Herokuへの自動デプロイが実行されます。

# ER図
<img width="796" alt="スクリーンショット 2022-12-26 13 15 11" src="https://user-images.githubusercontent.com/109893844/209499228-e9e400a6-2ff3-4f84-8e6a-a8b8a6a0bcbc.png">

# 作成目的
プログラミングスクールでの課題をベースにポートフォリオとして機能を拡張致しました。</br>
以上の理由として、宿泊サイトがrailsを学習する上で最適な制作対象であると考えました。</br>
宿泊サイトは、予約、お知らせ、レビューと言った連動が求められるCRUD機能を始め、</br>
ホストゲスト間でのインターアクティブな操作が伴います。</br>
これらの性質を実現するには、DB設計に対する理解やMVCに関する知識が不可欠であると考え、</br>
今回、制作対象として宿泊サイトを選びました。</br>
ポートフォリオを作ること、完成させることが目的になりがちですが、</br>
自分としては作成を通じてrailsの知識を増やし、スキルをさらに高めていくことを重要視しました。</br>
また、制作期間を約2ヶ月と自分の中で定め、限られた時間の中で、</br>
リファクタリングの経験ができることも大きなアドバンテージになると考えました。

# こだわりポイント
- **宿泊価格ごとに平均スコアを表示**</br>
通常の星レビュー機能に加え、宿泊価格に応じてその価格帯ごとの平均スコアが表示されます。</br>
ユーザーが価格帯ごとに公正な評価が可能となることを目的としています。</br>
これは宿泊価格がサービスの品質や宿泊体験に一定の影響を与えていると仮定した場合、</br>
通常の星レビューでは価格が異なる物件同士が星の数という指標のみで比較されてしまい、</br>
安価な物件が不利となってしまうと考えたからです。

- **キャンセル・キャンセルリクエスト機能**</br>
インターアクティブな機能として、ゲスト・ホストの双方から予約に対してキャンセルすることが可能です。</br>
仕組み上、ホストの場合はキャンセルリクエストという形でゲストにリクエストを送り、</br>
ゲストに承認を求めるような作りとなっております。</br>
お知らせ機能とも連動し、予約時含めキャンセルあるいはキャンセルリクエストが入った場合は、</br>
それぞれに通知が入ります。

# 今後の課題

今後の課題としては、以下の通りです。
- AWSへのデプロイ
- Docker導入
- Rspecのテスト範囲を拡大
- パスワードがわからない場合の再設定機能
- ソート機能（価格順や評価で並び替え可能）
- レビュー実装にコメント機能を追加
- フロントエンド開発としてフレームワークの導入（Reactを検討）
- haml、slimへの移行
